<!DOCTYPE html>
<html>
<head>

  <link rel="stylesheet" href="new_stylesheet.css">
  <!-- Google Icons -->
  
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round"
      rel="stylesheet">

  <script type="module" src="script.js"></script>
  <script type="module" src="puzzles.js"></script>
</head>
<body>
  

  <div id='containall' class="vertical-flex">
    <div id="versionUpdateModal" class="fullscreen-modal">
      <div class="header">Version Updates
        <button
          id="closemodalbutton" for="versionUpdateModal"
          type="button" class='button square minimal close-fs-modal-button'><span for="versionUpdateModal" class="material-icons-round">
            close
            </span></button>
      </div>
      <p><u>V1.0.4</u></p>

      <ul>
        <li>Added: Unify design elements</li>
        <li>Fixed: Leaderboard wouldn't reset between puzzles</li>
        <li>Fixed: Error when showing puzzle rewards</li>
      </ul>

      <p><u>V1.0.3</u></p>

      <ul>
        <li>Added: Current top 5 leaderboard after puzzle completion</li>
        <li>Added: Password is hidden :)</li>
        <li>Added: Alerts if something new goes wrong with the server</li>
        <li>Fixed: Guesses and puzzle completions being rejected by server</li>
      </ul>

      <p><u>V1.0.2</u></p>

      <ul>
        <li>Added: No vulgar username reminder</li>
        <li>Added: This box!</li>
        <li>Added: Reminder if no letters changed between words</li>
        <li>Fixed: Guessing same words doesn&#39;t increase guesses</li>
        <li>Fixed: Colouring for wrong/right words now persists when changing difficulty</li>
      </ul>
      
    </div>

    <div id="howToModal", class='fullscreen-modal'>
      <div id="modal-header" class='header'>
        <span>HOW TO PLAY</span>
        <button
          id="closemodalbutton" for="howToModal"
          type="button" class='button square minimal close-fs-modal-button'><span for="howToModal" class="material-icons-round">
            close
            </span></button>
      </div> <!-- modal header close -->
      <div>
        <hr>
        <hr>
        <span>
          Your goal is to solve the puzzle in as few guesses as possible. You can make guesses one row at a time, or try to solve multiple rows with one guess.
          <hr>
          Between any word and the next one, <b>1 letter</b> will always be swapped out for a different one.
        </span>
        <div class='rowHolder minimal'>
          <div class='wordRow'> <div class='letterBox letterRemoved ex'>T</div> <div class='letterBox ex below'>O</div> <div class='letterBox ex below'>U</div>
          <div class='letterBox ex below'>C</div> <div class='letterBox ex below'>H</div> </div>

          <div class='wordRow'> <div class='letterBox letterAdded ex'>C</div> <div class='letterBox ex above'>O</div> <div class='letterBox ex above'>U</div>
          <div class='letterBox ex above'>C</div> <div class='letterBox ex above'>H</div> </div>
        </div>
        <span>
          Blue markings inside the boxes show which letters have repeated between one word and the next.
        </span>
        <hr>
        <span>
          Along with swapping, the order of the letters might be <i>scrambled.</i>
        </span>
        <div class='rowHolder minimal'>
          <div class='wordRow'> <div class='letterBox ex below'>S</div> <div class='letterBox letterRemoved ex'>P</div> <div class='letterBox ex below'>O</div>
          <div class='letterBox ex below'>R</div> <div class='letterBox ex below'>T</div> </div>

          <div class='wordRow'> <div class='letterBox ex above'>S</div> <div class='letterBox ex above'>T</div> <div class='letterBox ex above'>O</div>
          <div class='letterBox ex above'>R</div> <div class='letterBox letterAdded ex'>M</div> </div>
        </div> 
        <hr>
        <span>
          When you make a guess, correct words will be coloured <span style="color: var(--correct-color);">green</span>, and incorrect words will be coloured <span style="color: var(--wrong-color)">orange</span>. 
        </span>
        <div class='rowHolder minimal'>
          <div class='wordRow correct'> <div class='letterBox ex below'>C</div> <div class='letterBox letterRemoved ex'>H</div> <div class='letterBox ex below'>E</div>
          <div class='letterBox ex below'>S</div> <div class='letterBox ex below'>T</div> </div>

          <div class='wordRow correct'> <div class='letterBox letterInput ex above below'>S</div> <div class='letterBox ex above'>C</div> <div class='letterBox ex above below'>E</div>
          <div class='letterBox ex below'>N</div> <div class='letterBox letterAdded above ex below'>T</div> </div>

          <div class='wordRow wrong'> <div class='letterBox letterInput ex '>D</div> <div class='letterBox letterInput ex above'>E</div> <div class='letterBox letterInput ex above'>N</div>
          <div class='letterBox ex above'>T</div> <div class='letterBox letterAdded ex above below'>S</div> </div>

          <div class='wordRow'> <div class='letterBox letterInput ex'></div> <div class='letterBox letterInput ex'></div> <div class='letterBox ex'>L</div>
          <div class='letterBox letterInput ex'></div> <div class='letterBox letterAdded ex above'>S</div> </div>
        </div> 
        <br></br>
      </div> <!-- modal body div close -->
    </div> <!-- modal close -->

    <div class='header horizontal-flex-cont'>
      <button id="keyboardbutton" type="button" class='square flex-item'>
        <div><img src="past.svg"/></div>
          </button>
          <button id="pastPuzzlesButton" type="button" class="square flex-item">
            <div><img src="past.svg"/></div>
          </button>
      <div id="scrambler_title">
        <button class="notify-button invisible square"></button>
        <span>SCRAMBLER</span>
        <button id="version_update_button" for="versionUpdateModal" class="notify-button square open-fs-modal-button" 
        type="button"></button>
      </div>
      
      <button id="leaderboardButton" type="button" class='square flex-item'>
        <div><img src="past.svg"/></div>
      </button>
      <button id="modalbutton" for="howToModal" name="openmodalbutton" type="button" 
      class='square flex-item open-fs-modal-button'>
        <div><img for="howToModal" src="past.svg"/></div>
      </button>

    </div> <!-- page header close -->

    <div id="login_modal" class="modal">
      <span><h5>Please Login or Create a Profile:</h5></span>
      <form id="login_form" class="vertical_header">
          <input type="text" id="uname" name="uname" maxlength="20" placeholder="Username" class="textinput"/>
          <input type="password" id="pword" name="pword" maxlength="20" placeholder="Password" class="textinput"/>
          <input type="text" id="email" name="email" maxlength="50" placeholder="Email Address (Optional)*" class="textinput">
          <span><i>*Enter your email if you are interested in giving feedback or testing new features.</i></span>
        <div class="horizontal_header">
          <input type="submit" name="login" value="Login" class="input_button">
          <input type="submit" name="create" value="Create Profile" class="input_button">
        </div>
      </form>
      <span>As a friendly reminder, usernames need to be <b>free of obscene language</b>. Using a vulgar username might result in your profile being deleted.</span>
      <div id="login_loader" class="loader"></div>
    </div>

    <div id="puzzle_reward" class="modal vertical_header">
      <div class="header">
        <button type="button", class='square button minimal invisible'>&times;</button>
        <span id="reward_title">&#127881; Congratulations &#127881;</span>
        <button
            id="closerewardbutton"
            type="button", class='button square minimal'><span class="material-icons-round" for="puzzle_reward">
              close
              </span></button>
      </div> <!-- <!> Congratulations <!>, etc. with emojis -->
      <span id="reward_base_points"></span> <!-- 45 points! -->
      <div id="reward_bonuses" class="horizontal_header">
        <div class="vertical_header bonus_col"> <!-- Early Bonus -->
          <span class="bonus_w_description horizontal_header">
            <div class="help-tip invisible"></div>
            <img class="bonus_icon bonus" src="flag_one.svg"/>
            <div class="help-tip">
              <p class="tooltipText">Earned by being one of the first to complete the puzzle. First earns +200%. Next four earn +50%.</p>
            </div>
          </span>
            <span id="early_bonus"></span>
            <span id="early_points"> --</span>
        </div> 
        <div id="centre_bonus" class="vertical_header bonus_col">
          <span class="bonus_w_description horizontal_header">
            <div class="help-tip invisible"></div>
            <img class="bonus_icon bonus" src="fast_bonus.svg"/>
            <div class="help-tip">
              <p class="tooltipText">Earned by being one of the fastest to complete the puzzle. Fastest earns +75%. Next 3 earn +25%.</p>
            </div>
          </span>
          <span id="fast_bonus"></span>
          <span id="fast_points"> --</span>
        </div> <!-- Fast Bonus -->
          
        <div class="vertical_header bonus_col">
          <span class="bonus_w_description horizontal_header">
            <div class="help-tip invisible"></div>
            <img class="bonus_icon bonus" src="strategy.svg"/>
            <div class="help-tip">
              <p class="tooltipText">Earned by completing the puzzle with fewer guesses than others. Fewest guesses earns +75%. Next 2 earn +25%.</p>
            </div>
          </span>
          <span id="guess_bonus"></span>
          <span id="guess_points"> --</span>
        </div> <!-- Strategy Bonus -->

      </div> 
      <span id="reward_total_points"></span>
      <table>
        <caption>Leaderboard</caption>
        <thead>
          <tr>
            <th scope="col">Rank</th>
            <th scope="col">Username</th>
            <th scope="col">Points</th>
            <th scope="col"><img class="bonus_icon small" src="flag_one.svg"/></th>
            <th scope="col"><img class="bonus_icon small" src="fast_bonus.svg"/></th>
            <th scope="col"><img class="bonus_icon small" src="strategy.svg"/></th>
          </tr>
        </thead>
        <tbody id="daily_leaderboard_tbody">
          <!-- EXAMPLE ROWS FOR TESTING CSS
          <tr>
            <th scope="row">1st</th>
            <td>BEEEEEEEEESSAHAHAHA</td>
            <td>420</td>
            <td><img class="bonus_icon small" src="silver-medal.svg"/></td>
            <td></td>
            <td><img class="bonus_icon small" src="gold-medal.svg"/></td>
          </tr>
          <tr>
            <th scope="row">2nd</th>
            <td>CuteJade</td>
            <td>69</td>
            <td></td>
            <td><img class="bonus_icon small" src="silver-medal.svg"/></td>
            <td><img class="bonus_icon small" src="silver-medal.svg"/></td>
          </tr>
        -->
        </tbody>
      </table>
      <div id="reward_leaderboard_loader" class="dot-flashing"></div>
    </div>

    <div id="gameBox" class='gameBox vertical-flex'>
      <div id="message_banner" class="slide_down"><b>Since you've already completed this puzzle before, any future attempts won't earn you any rewards.</b></div>

      <div id="gameBox_wrapper" class="slide_down">

        <div class="vertical-flex-cont">
          <div class="horizontal-flex-cont">
            
              <div><span id="username">Not logged in...</span></div>
              <div id="points_holder">Points: <span id="points">?</span></div>
            
          </div>


          <div id="game_header" class="horizontal_header">
            <div id="guesses">Guesses: <span id="guesses_made"></span></div>
            <div id="next_game_box">Next Game: <span id="next_game"></span></div>
          </div>
          <div class="horizontal_header">
            <!-- easy/hard toggle -->
            <div class="switch-field">
              <input type="radio" id="easy_radio" class="switch_diff_radio" name="switch-one" value="easy" checked/>
              <label for="easy_radio">Easy</label>
              <input type="radio" id="hard_radio" class="switch_diff_radio" name="switch-one" value="hard" />
              <label for="hard_radio">Hard</label>
            </div>
            <button id="refresh_guess">Refresh Guess</button>
          </div>
          
        </div>
        <div id="rowHolder" class='rowHolder'></div>
        <div id="puzzle_loader" class="loader"></div>
        <button id="answerBtn" name="answerPuzzleButton" type="button" class='button answerButton'>Guess</button>
        <div id="button_response" class='guessResponse'></div>
        
      </div> <!-- Close gamebox wrapper (needed for margin, so rewardless banner can press against sides)-->
      <div id="login_overlay" class="overlay closed"></div> <!-- TODO remove closed -->
    </div>

    <!-- Full Leaderboard -->
      <div id="fullLeaderboard" class="modal">
        
        <div class="header formodal">
          <button
                id="closemodalbutton"
                type="button", class='button square minimal invisible'><span class="material-icons-round">
                  close
                  </span></button>
          <h1>Scrambler Leaderboard</h1>
          <button
                id="closemodalbutton"
                type="button", class='button square minimal'><span class="material-icons-round">
                  close
                  </span></button>
        
        </div>
      <div class="vertical-header">
        <div class="horizontal_header">
          <div class="switch-field">
            <input type="radio" id="dailyLBRadio" class="switch_lb_radio" name="switch-one" value="today" checked/>
            <label for="dailyLBRadio">Today</label>
            <input type="radio" id="weekLBRadio" class="switch_lb_radio" name="switch-one" value="week" />
            <label for="weekLBRadio">This Week</label>
            <input type="radio" id="allLBRadio" class="switch_lb_radio" name="switch-one" value="all" />
            <label for="allLBRadio">All Time</label>
          </div>
        </div>
        <div class="horizontal_header">
          <div class="switch-field">
            <input type="radio" id="dailyLBRadio" class="switch_lb_radio" name="switch-one" value="today" checked/>
            <label for="dailyLBRadio">Easy</label>
            <input type="radio" id="weekLBRadio" class="switch_lb_radio" name="switch-one" value="week" />
            <label for="weekLBRadio">FixHTML</label>
          </div>
          <div id="next_game_box">Next Game: <span id="next_game"></span></div>
        </div>
      </div>
      <table>
        <thead>
          <tr>
            <th scope="col">Rank</th>
            <th scope="col">Username</th>
            <th scope="col">Points</th>
            <th scope="col"><img class="bonus_icon small" src="flag_one.svg"/></th>
            <th scope="col"><img class="bonus_icon small" src="fast_bonus.svg"/></th>
            <th scope="col"><img class="bonus_icon small" src="strategy.svg"/></th>
          </tr>
        </thead>
        <tbody id="daily_leaderboard_tbody">
          <!-- EXAMPLE ROWS FOR TESTING CSS
          <tr>
            <th scope="row">1st</th>
            <td>BEEEEEEEEESSAHAHAHA</td>
            <td>420</td>
            <td><img class="bonus_icon small" src="silver-medal.svg"/></td>
            <td></td>
            <td><img class="bonus_icon small" src="gold-medal.svg"/></td>
          </tr>
          <tr>
            <th scope="row">2nd</th>
            <td>CuteJade</td>
            <td>69</td>
            <td></td>
            <td><img class="bonus_icon small" src="silver-medal.svg"/></td>
            <td><img class="bonus_icon small" src="silver-medal.svg"/></td>
          </tr>
        -->
        </tbody>
      </table>

    </div>
  </div>

  

  <div id="keyboard-cont">
      <div class="first-row">
          <button class="keyboard-button">q</button>
          <button class="keyboard-button">w</button>
          <button class="keyboard-button">e</button>
          <button class="keyboard-button">r</button>
          <button class="keyboard-button">t</button>
          <button class="keyboard-button">y</button>
          <button class="keyboard-button">u</button>
          <button class="keyboard-button">i</button>
          <button class="keyboard-button">o</button>
          <button class="keyboard-button">p</button>
      </div>
      <div class="second-row">
          <button class="keyboard-button">a</button>
          <button class="keyboard-button">s</button>
          <button class="keyboard-button">d</button>
          <button class="keyboard-button">f</button>
          <button class="keyboard-button">g</button>
          <button class="keyboard-button">h</button>
          <button class="keyboard-button">j</button>
          <button class="keyboard-button">k</button>
          <button class="keyboard-button">l</button>
      </div>
      <div class="third-row">
          <button class="keyboard-button square material-icons-round">keyboard_return</button>
          <button class="keyboard-button">z</button>
          <button class="keyboard-button">x</button>
          <button class="keyboard-button">c</button>
          <button class="keyboard-button">v</button>
          <button class="keyboard-button">b</button>
          <button class="keyboard-button">n</button>
          <button class="keyboard-button">m</button>
          <button class="keyboard-button square material-icons-round">backspace</button>
      </div>
  </div>
<div class="keyboardbuffer"></div>

</body>
</html>
